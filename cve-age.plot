# SVG output
set terminal svg size 1920,1080 dynamic font ",24"

# title
set title "Vulnerability age" font ",48"
# where's the legend
set key top left opaque box
set key font ",20"

# Identify the axes
set ylabel "Age of the vulnerabilities, in years"
set xlabel "Date when the vulnerabilities were fixed"

set grid
set ytics out
set mytics 5
unset border

set style line 1 \
    linecolor rgb '#2e8a00' \
    pointtype 7 pointsize 0.6
set style line 5 \
    linecolor rgb '#0080c0' \
    pointtype 7 pointsize 0.6
set style line 6 \
    linecolor rgb '#800000' \
    pointtype 7 pointsize 0.6
set style line 7 \
    linecolor rgb '#fe0000' \
    pointtype 7 pointsize 0.6

set style line 2 \
    linecolor rgb '#808000' \
    linetype 1 dt 3 linewidth 3
set style line 3 \
    linecolor rgb '#00a040' \
    linetype 1 dt 3 linewidth 3

set style line 4 \
    linecolor rgb '#f0c0c0' \
    linetype 1 linewidth 1

set pixmap 1 "stats/curl-symbol-light.png"
set pixmap 1 at screen 0.35, 0.30 width screen 0.30 behind

set timefmt "%Y-%m-%d"
set xdata time
set xtics rotate 3600*24*365.25 nomirror out
set format x "%Y"
set yrange [0:]
set xrange ["1998-01-01":]

set datafile separator ";"
plot \
 'tmp/cve-age.csv' using 2:4 with lines title '4.0 (1998-03-20)' linestyle 4,\
 'tmp/cve-age.csv' using 2:8 with lines title '7.10 (2002-10-01)', \
 'tmp/cve-age.csv' using 2:9 with lines title '7.16.0 (2006-10-30)', \
 'tmp/cve-age.csv' using 2:10 with lines title '7.21.0 (2010-06-16)', \
 'tmp/cve-age.csv' using 2:11 with lines title '7.38.0 (2014-09-10)', \
 'tmp/cve-age.csv' using 2:12 with lines title '7.61.0 (2018-07-11)', \
 'tmp/cve-age.csv' using 2:13 with lines title '7.85.0 (2022-08-31)', \
 'tmp/cve-age.csv' using 2:7 with lines title 'Median age' linestyle 3,\
 'tmp/cve-age.csv' using 2:6 with lines title 'Average age' linestyle 2, \
 'tmp/cve-age.csv' using 2:3 with points linestyle 1 title 'Low Vulnerability', \
 'tmp/cve-age.csv' using 2:14 with points linestyle 5 title 'Medium vulnerability', \
 'tmp/cve-age.csv' using 2:15 with points linestyle 6 title 'High vulnerability', \
 'tmp/cve-age.csv' using 2:16 with points linestyle 7 title 'Critical vulnerability', \
