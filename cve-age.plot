# SVG output
set terminal svg size 1920,1080 dynamic font ",24"

# title
set title "Vulnerability age" font ",48"
# where's the legend
set key top left opaque box
set key font ",20"

# Identify the axes
set ylabel "Age of the vulnerabilities, in years"
set xlabel "Date when the vulnerabilities were fixed"

set grid
set ytics out
unset border

set style line 1 \
    linecolor rgb '#000000' \
    pointtype 7 pointsize 0.5
set style line 2 \
    linecolor rgb '#808000' \
    linetype 1 dt 3 linewidth 3
set style line 3 \
    linecolor rgb '#00a040' \
    linetype 1 dt 3 linewidth 3

set style line 4 \
    linecolor rgb '#f0c0c0' \
    linetype 1 linewidth 4

set pixmap 1 "stats/curl-symbol-light.png"
set pixmap 1 at screen 0.35, 0.30 width screen 0.30 behind

set timefmt "%Y-%m-%d"
set xdata time
set xtics rotate 3600*24*365.25 nomirror out
set format x "%Y"

set datafile separator ";"
plot \
 'tmp/cve-age.csv' using 2:4 with lines title 'Project age' linestyle 4,\
 'tmp/cve-age.csv' using 2:3 with points linestyle 1 title 'Vulnerability', \
 'tmp/cve-age.csv' using 2:7 with lines title 'Median age' linestyle 3,\
 'tmp/cve-age.csv' using 2:6 with lines title 'Average age' linestyle 2
